{% extends 'home.html' %}

    {% block content %}

    <div class="uploadContainer">

    <div class="uploadHeader">UPLOAD FILES</div>
    
    <br><br><br>

    <div style="display: block;">
    
        <div style="display: inline-block; margin-right: 50px;">Choose your file:</div>
        <input type="file" style="display: inline-block;" id="uploadFile">

    </div>

     <br><br>

    <button onclick="uploadFile()">UPLOAD</button>


    </div>
<script>
    async function uploadFile() {
        const file = document.getElementById("uploadFile").files[0];

        if (!file) {
            alert("no file selected!");
            return;
        }

        const formData = new FormData();
        formData.append("file", file);

        const url = "/upload/file";
        let response = await fetch(url, {
            method: "POST",
            body: formData
        });
        let responseJSON = await response.json()
        if (response.ok) {
            alert("File uploaded successfully!")
        } else {
            alert("Something went wrong! File did not upload. Please leave the file on the desktop for now.")
        }
    }
</script>

    {% endblock %}

